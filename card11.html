<!DOCTYPE html>
<html>
<head>
  <title>tarot2go</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
  <style>
    body {
      background-color: AntiqueWhite;
    }
    .response-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }
    .response {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin: 10px;
      text-align: center;
      width: 180px;
      height: 300px;
      background-color: Olive;
      color: DarkGray;
      font-size: 20px;
      position: relative;
      overflow: hidden;
      cursor: grab; /* Added draggable cursor */
      user-drag: element; /* For Safari support */
      -webkit-user-drag: element; /* For older Safari versions */
    }
    .card-image {
      width: 150px;
      height: 250px;
      margin: 0 auto;
      display: none;
    }
    .overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: DarkSlateGray;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: opacity 0.3s;
    }
    .overlay-text {
      color: DarkSeaGreen;
      font-size: 24px;
    }
    .hide {
      display: none;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/2.4.4/seedrandom.min.js"></script>
</head>
<body>
  <h1>tarot</h1>

  <label for="number">Select a number (1-10):</label>
  <select id="number">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
  </select>

  <button id="generate">Generate</button>

  <div id="responses"></div>

  <script>
    // Array containing the names of all 72 tarot cards
    var tarotCards = [
      "the-fool.PNG", "the-magician.PNG", "the-high-priestess.PNG", "the-empress.PNG", "the-emperor.PNG", "the-hierophant.PNG", "the-lovers.PNG",
      "the-chariot.PNG", "strength.PNG", "the-hermit.PNG", "wheel-of-fortune.PNG", "justice.PNG", "the-hanged-man.PNG", "death.PNG", "temperance.PNG",
      "the-devil.PNG", "the-tower.PNG", "the-star.PNG", "the-moon.PNG", "the-sun.PNG", "judgment.PNG", "the-world.PNG", "ace-of-wands.PNG", "two-of-wands.PNG",
      "three-of-wands.PNG", "four-of-wands.PNG", "five-of-wands.PNG", "six-of-wands.PNG", "seven-of-wands.PNG", "eight-of-wands.PNG",
      "nine-of-wands.PNG", "ten-of-wands.PNG", "page-of-wands.PNG", "knight-of-wands.PNG", "queen-of-wands.PNG", "king-of-wands.PNG",
      "ace-of-cups.PNG", "two-of-cups.PNG", "three-of-cups.PNG", "four-of-cups.PNG", "five-of-cups.PNG", "six-of-cups.PNG", "seven-of-cups.PNG",
      "eight-of-cups.PNG", "nine-of-cups.PNG", "ten-of-cups.PNG", "page-of-cups.PNG", "knight-of-cups.PNG", "queen-of-cups.PNG", "king-of-cups.PNG",
      "ace-of-swords.PNG", "two-of-swords.PNG", "three-of-swords.PNG", "four-of-swords.PNG", "five-of-swords.PNG", "six-of-swords.PNG",
      "seven-of-swords.PNG", "eight-of-swords.PNG", "nine-of-swords.PNG", "ten-of-swords.PNG", "page-of-swords.PNG", "knight-of-swords.PNG",
      "queen-of-swords.PNG", "king-of-swords.PNG", "ace-of-pentacles.PNG", "two-of-pentacles.PNG", "three-of-pentacles.PNG",
      "four-of-pentacles.PNG", "five-of-pentacles.PNG", "six-of-pentacles.PNG", "seven-of-pentacles.PNG", "eight-of-pentacles.PNG",
      "nine-of-pentacles.PNG", "ten-of-pentacles.PNG", "page-of-pentacles.PNG", "knight-of-pentacles.PNG", "queen-of-pentacles.PNG",
      "king-of-pentacles.PNG"
    ];

    function getRandomNumbers(quantity, max) {
      var numbers = [];

      for (var i = 0; i < quantity; i++) {
        var seed = Math.floor(Math.random() * 1000000) + 1;
        var random = new Math.seedrandom(seed.toString());
        var randomNumber = Math.floor(random() * max) + 1;

        numbers.push(randomNumber);
      }

      return numbers;
    }

    function generateResponses() {
      var number = parseInt($("#number").val());
      var responses = [];
      var usedCards = [];

      while (responses.length < number) {
        var randomIndex = Math.floor(Math.random() * tarotCards.length);
        var randomCard = tarotCards[randomIndex];

        if (!usedCards.includes(randomCard)) {
          usedCards.push(randomCard);

          var isReversed = Math.random() < 0.5;
          var partOne = isReversed ? "reversed" : "upright";
          var partTwo = randomCard.split(".")[0]; // Remove the file extension

          responses.push({
            position: partOne,
            card: partTwo
          });
        }
      }

      return responses;
    }

    function displayResponses() {
      var responses = generateResponses();
      var responseHtml = "<div class='response-container'>";

      responses.forEach(function(response, index) {
        var cardId = "card-" + (index + 1);
        var showClass = response.position === "reversed" ? "hide" : "";
        var overlayText = response.position === "reversed" ? "Click" : "";
        var imageUrl = getCardImageUrl(response.card);

        responseHtml += "<div class='response'>" +
                        "<div id='" + cardId + "' class='card-image " + showClass + "'>" +
                        "<img src='" + imageUrl + "' alt='Card Image'>" +
                        "<p>" + response.position + ", " + response.card + "</p>" +
                        "</div>" +
                        "<div class='overlay' onclick='hideOverlay(this)'>" +
                        "<p class='overlay-text'>" + overlayText + "</p>" +
                        "</div>" +
                        "</div>";
      });

      responseHtml += "</div>";

      $("#responses").html(responseHtml);

      makeCardsDraggable();
    }

    function makeCardsDraggable() {
      $(".response").draggable({
        containment: "body",
        stack: ".draggable",
      });
    }

    function hideOverlay(overlay) {
      $(overlay).hide();
      $(overlay).siblings(".card-image").fadeIn(300);
    }

    function getCardImageUrl(cardName) {
      var imageName = cardName.toLowerCase().replace(/\s+/g, '-') + ".PNG";
      return "https://tarotx.net/wp-content/uploads/2019/01/" + imageName;
    }

    $(document).ready(function() {
      $("#generate").click(function() {
        displayResponses();
      });
    });
  </script>
  <!-- ... (same as before) ... -->
</body>
</html>
